<!doctype html>
<html>
  <head>
    <script src='/jquery-1.11.1.min.js'></script>
    <script src='/socket.io/socket.io.js'></script>
    <script type='text/javascript'>
      var socket = io.connect('http://localhost:3000');
      
      socket.on('welcome', function(data){
        $('#messages').append('<li>' + data.message + '</li>');
        socket.emit('i am client', {data: 'foo!'});
      });

      socket.on('time', function(data){
        console.log(data);
        $('#messages').append('<li>' + data.time + '</li>');
      });

      socket.on('error', function(){ console.error(arguments); });

      socket.on('message', function(){ console.log(arguments); });
    </script>
  </head>
  <body>
    <ul id='messages'></ul>
  </body>
</html>
